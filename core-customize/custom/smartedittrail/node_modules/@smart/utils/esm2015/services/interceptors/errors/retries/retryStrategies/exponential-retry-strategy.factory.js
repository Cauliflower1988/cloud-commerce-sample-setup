/**
 * Copyright (c) 2020 SAP SE or an SAP affiliate company. All rights reserved.
 * @module smartutils
 */
/**
 * Copyright (c) 2019 SAP SE or an SAP affiliate company. All rights reserved.
 * @module smartutils
 */
import { InjectionToken } from '@angular/core';
export const ExponentialRetryStrategy = new InjectionToken('ExponentialRetryStrategy');
export function exponentialRetryStrategyFactory(exponentialRetry) {
    return class {
        constructor() {
            this.firstFastRetry = true;
            this.attemptCount = 0;
        }
        canRetry() {
            return exponentialRetry.canRetry(this.attemptCount);
        }
        calculateNextDelay() {
            return exponentialRetry.calculateNextDelay(this.attemptCount);
        }
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhwb25lbnRpYWwtcmV0cnktc3RyYXRlZ3kuZmFjdG9yeS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BzbWFydC91dGlscy8iLCJzb3VyY2VzIjpbInNlcnZpY2VzL2ludGVyY2VwdG9ycy9lcnJvcnMvcmV0cmllcy9yZXRyeVN0cmF0ZWdpZXMvZXhwb25lbnRpYWwtcmV0cnktc3RyYXRlZ3kuZmFjdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0dBR0c7QUFDSCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBSy9DLE1BQU0sQ0FBQyxNQUFNLHdCQUF3QixHQUFHLElBQUksY0FBYyxDQUFTLDBCQUEwQixDQUFDLENBQUM7QUFFL0YsTUFBTSxVQUFVLCtCQUErQixDQUMzQyxnQkFBa0M7SUFFbEMsT0FBTztRQUFBO1lBQ0ksbUJBQWMsR0FBRyxJQUFJLENBQUM7WUFDdEIsaUJBQVksR0FBVyxDQUFDLENBQUM7UUFTcEMsQ0FBQztRQVBHLFFBQVE7WUFDSixPQUFPLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDeEQsQ0FBQztRQUVELGtCQUFrQjtZQUNkLE9BQU8sZ0JBQWdCLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ2xFLENBQUM7S0FDSixDQUFDO0FBQ04sQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE5IFNBUCBTRSBvciBhbiBTQVAgYWZmaWxpYXRlIGNvbXBhbnkuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbW9kdWxlIHNtYXJ0dXRpbHNcbiAqL1xuaW1wb3J0IHsgSW5qZWN0aW9uVG9rZW4gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENsYXNzIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHsgRXhwb25lbnRpYWxSZXRyeSB9IGZyb20gJy4uL3JldHJ5UG9saWNpZXMnO1xuaW1wb3J0IHsgSVJldHJ5U3RyYXRlZ3kgfSBmcm9tICcuL2ktcmV0cnktc3RyYXRlZ3knO1xuXG5leHBvcnQgY29uc3QgRXhwb25lbnRpYWxSZXRyeVN0cmF0ZWd5ID0gbmV3IEluamVjdGlvblRva2VuPHN0cmluZz4oJ0V4cG9uZW50aWFsUmV0cnlTdHJhdGVneScpO1xuXG5leHBvcnQgZnVuY3Rpb24gZXhwb25lbnRpYWxSZXRyeVN0cmF0ZWd5RmFjdG9yeShcbiAgICBleHBvbmVudGlhbFJldHJ5OiBFeHBvbmVudGlhbFJldHJ5XG4pOiBDbGFzczxJUmV0cnlTdHJhdGVneT4ge1xuICAgIHJldHVybiBjbGFzcyBpbXBsZW1lbnRzIElSZXRyeVN0cmF0ZWd5IHtcbiAgICAgICAgcHVibGljIGZpcnN0RmFzdFJldHJ5ID0gdHJ1ZTtcbiAgICAgICAgcHVibGljIGF0dGVtcHRDb3VudDogbnVtYmVyID0gMDtcblxuICAgICAgICBjYW5SZXRyeSgpIHtcbiAgICAgICAgICAgIHJldHVybiBleHBvbmVudGlhbFJldHJ5LmNhblJldHJ5KHRoaXMuYXR0ZW1wdENvdW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGN1bGF0ZU5leHREZWxheSgpIHtcbiAgICAgICAgICAgIHJldHVybiBleHBvbmVudGlhbFJldHJ5LmNhbGN1bGF0ZU5leHREZWxheSh0aGlzLmF0dGVtcHRDb3VudCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuIl19