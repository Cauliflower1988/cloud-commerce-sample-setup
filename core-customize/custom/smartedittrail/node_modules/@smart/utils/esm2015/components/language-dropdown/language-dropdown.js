/**
 * Copyright (c) 2020 SAP SE or an SAP affiliate company. All rights reserved.
 * @module smartutils
 */
/**
 * Copyright (c) 2019 SAP SE or an SAP affiliate company. All rights reserved.
 * @module smartutils
 */
import * as tslib_1 from "tslib";
import { Input } from '@angular/core';
import { DEFAULT_LANGUAGE_ISO, SWITCH_LANGUAGE_EVENT } from '../../constants';
import { LanguageDropdownHelper, LanguageSortStrategy } from './language-dropdown-helper';
import { LanguageDropdownAdapter } from './language-dropdown-adapter';
export class LanguageDropdown {
    constructor(languageService, eventService) {
        this.languageService = languageService;
        this.eventService = eventService;
        this.languageSortStrategy = LanguageSortStrategy.Default;
        this.selectedLanguage = null;
        this.items = [];
        this.initialLanguage = null;
        this.languages = [];
        this.unRegisterEventService = null;
    }
    ngOnInit() {
        Promise.all([
            this.languageService.getResolveLocale(),
            this.languageService.getToolingLanguages()
        ]).then(([isoCode, languages]) => {
            this.items = languages.map(LanguageDropdownAdapter.transform);
            this.languages = languages;
            this.setSelectedLanguage(isoCode);
            this.setInitialLanguage(isoCode);
        });
        this.unRegisterEventService = this.eventService.subscribe(SWITCH_LANGUAGE_EVENT, () => this.handleLanguageChange());
    }
    ngOnDestroy() {
        this.unRegisterEventService();
    }
    /**
     * Triggered when an user selects a language.
     * @param {IToolingLanguage} language
     */
    onSelectedLanguage(item) {
        this.languageService.setSelectedToolingLanguage(item.value);
    }
    /**
     * Set initial language to be displayed in dropdown
     *
     * @param {string} isoCode
     */
    setInitialLanguage(isoCode) {
        this.initialLanguage =
            this.items.find(LanguageDropdownHelper.findSelectLanguageWithIsoCodePredicate(isoCode)) ||
                this.items.find(LanguageDropdownHelper.findSelectLanguageWithIsoCodePredicate(DEFAULT_LANGUAGE_ISO));
    }
    /**
     * Triggered onInit and when language service sets a new language.
     *
     * @param {IToolingLanguage[]} languages
     * @param {string} isoCode
     */
    setSelectedLanguage(isoCode) {
        this.selectedLanguage = LanguageDropdownHelper.findLanguageWithIsoCode(isoCode, this.languages);
        if (this.selectedLanguage) {
            const sortedLanguages = LanguageDropdownHelper.order(this.selectedLanguage, this.languages, { strategy: this.languageSortStrategy });
            this.items = sortedLanguages.map(LanguageDropdownAdapter.transform);
            return;
        }
        // In case the iso code is too specific, it will use the more generic iso code to set the language.
        this.languageService.getResolveLocaleIsoCode().then((code) => {
            this.selectedLanguage = LanguageDropdownHelper.findLanguageWithIsoCode(code, this.languages);
            const sortedLanguages = LanguageDropdownHelper.order(this.selectedLanguage, this.languages, { strategy: this.languageSortStrategy });
            this.items = sortedLanguages.map(LanguageDropdownAdapter.transform);
        });
    }
    /**
     * Callback for setting the selected language.
     */
    handleLanguageChange() {
        this.languageService.getResolveLocale().then((isoCode) => {
            this.setSelectedLanguage(isoCode);
        });
    }
}
tslib_1.__decorate([
    Input(),
    tslib_1.__metadata("design:type", String)
], LanguageDropdown.prototype, "languageSortStrategy", void 0);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGFuZ3VhZ2UtZHJvcGRvd24uanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Ac21hcnQvdXRpbHMvIiwic291cmNlcyI6WyJjb21wb25lbnRzL2xhbmd1YWdlLWRyb3Bkb3duL2xhbmd1YWdlLWRyb3Bkb3duLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7R0FHRzs7QUFFSCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBSXRDLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxxQkFBcUIsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzlFLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxvQkFBb0IsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQzFGLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBRXRFLE1BQU0sT0FBTyxnQkFBZ0I7SUFZekIsWUFBbUIsZUFBZ0MsRUFBUyxZQUEyQjtRQUFwRSxvQkFBZSxHQUFmLGVBQWUsQ0FBaUI7UUFBUyxpQkFBWSxHQUFaLFlBQVksQ0FBZTtRQVg5RSx5QkFBb0IsR0FBeUIsb0JBQW9CLENBQUMsT0FBTyxDQUFDO1FBRTVFLHFCQUFnQixHQUFzQixJQUFvQyxDQUFDO1FBQzNFLFVBQUssR0FBb0MsRUFBRSxDQUFDO1FBQzVDLG9CQUFlLEdBQW1DLElBRXhELENBQUM7UUFFTSxjQUFTLEdBQXVCLEVBQUUsQ0FBQztRQUNuQywyQkFBc0IsR0FBZ0IsSUFBOEIsQ0FBQztJQUVhLENBQUM7SUFFM0YsUUFBUTtRQUNKLE9BQU8sQ0FBQyxHQUFHLENBQUM7WUFDUixJQUFJLENBQUMsZUFBZSxDQUFDLGdCQUFnQixFQUFFO1lBQ3ZDLElBQUksQ0FBQyxlQUFlLENBQUMsbUJBQW1CLEVBQUU7U0FDN0MsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBK0IsRUFBRSxFQUFFO1lBQzNELElBQUksQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUM5RCxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztZQUUzQixJQUFJLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDbEMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3JDLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLHFCQUFxQixFQUFFLEdBQUcsRUFBRSxDQUNsRixJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FDOUIsQ0FBQztJQUNOLENBQUM7SUFFRCxXQUFXO1FBQ1AsSUFBSSxDQUFDLHNCQUFzQixFQUFFLENBQUM7SUFDbEMsQ0FBQztJQUVEOzs7T0FHRztJQUNILGtCQUFrQixDQUFDLElBQW1DO1FBQ2xELElBQUksQ0FBQyxlQUFlLENBQUMsMEJBQTBCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFFRDs7OztPQUlHO0lBRUssa0JBQWtCLENBQUMsT0FBZTtRQUN0QyxJQUFJLENBQUMsZUFBZTtZQUNmLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUNaLHNCQUFzQixDQUFDLHNDQUFzQyxDQUFDLE9BQU8sQ0FBQyxDQUN2QztnQkFDbkMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQ1gsc0JBQXNCLENBQUMsc0NBQXNDLENBQUMsb0JBQW9CLENBQUMsQ0FDdEYsQ0FBQztJQUNWLENBQUM7SUFDRDs7Ozs7T0FLRztJQUNLLG1CQUFtQixDQUFDLE9BQWU7UUFDdkMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLHNCQUFzQixDQUFDLHVCQUF1QixDQUNsRSxPQUFPLEVBQ1AsSUFBSSxDQUFDLFNBQVMsQ0FDakIsQ0FBQztRQUVGLElBQUksSUFBSSxDQUFDLGdCQUFnQixFQUFFO1lBQ3ZCLE1BQU0sZUFBZSxHQUFHLHNCQUFzQixDQUFDLEtBQUssQ0FDaEQsSUFBSSxDQUFDLGdCQUFnQixFQUNyQixJQUFJLENBQUMsU0FBUyxFQUNkLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUMxQyxDQUFDO1lBRUYsSUFBSSxDQUFDLEtBQUssR0FBRyxlQUFlLENBQUMsR0FBRyxDQUFDLHVCQUF1QixDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3BFLE9BQU87U0FDVjtRQUVELG1HQUFtRztRQUNuRyxJQUFJLENBQUMsZUFBZSxDQUFDLHVCQUF1QixFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBWSxFQUFFLEVBQUU7WUFDakUsSUFBSSxDQUFDLGdCQUFnQixHQUFHLHNCQUFzQixDQUFDLHVCQUF1QixDQUNsRSxJQUFJLEVBQ0osSUFBSSxDQUFDLFNBQVMsQ0FDakIsQ0FBQztZQUNGLE1BQU0sZUFBZSxHQUFHLHNCQUFzQixDQUFDLEtBQUssQ0FDaEQsSUFBSSxDQUFDLGdCQUFnQixFQUNyQixJQUFJLENBQUMsU0FBUyxFQUNkLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUMxQyxDQUFDO1lBQ0YsSUFBSSxDQUFDLEtBQUssR0FBRyxlQUFlLENBQUMsR0FBRyxDQUFDLHVCQUF1QixDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3hFLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVEOztPQUVHO0lBQ0ssb0JBQW9CO1FBQ3hCLElBQUksQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFlLEVBQUUsRUFBRTtZQUM3RCxJQUFJLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdEMsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0NBQ0o7QUF2R1k7SUFBUixLQUFLLEVBQUU7OzhEQUEyRSIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE5IFNBUCBTRSBvciBhbiBTQVAgYWZmaWxpYXRlIGNvbXBhbnkuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbW9kdWxlIHNtYXJ0dXRpbHNcbiAqL1xuXG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSVNlbGVjdEl0ZW0gfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL2ktc2VsZWN0LWl0ZW0nO1xuaW1wb3J0IHsgSUV2ZW50U2VydmljZSB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvaS1ldmVudC5zZXJ2aWNlJztcbmltcG9ydCB7IElUb29saW5nTGFuZ3VhZ2UsIExhbmd1YWdlU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2xhbmd1YWdlLnNlcnZpY2UnO1xuaW1wb3J0IHsgREVGQVVMVF9MQU5HVUFHRV9JU08sIFNXSVRDSF9MQU5HVUFHRV9FVkVOVCB9IGZyb20gJy4uLy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBMYW5ndWFnZURyb3Bkb3duSGVscGVyLCBMYW5ndWFnZVNvcnRTdHJhdGVneSB9IGZyb20gJy4vbGFuZ3VhZ2UtZHJvcGRvd24taGVscGVyJztcbmltcG9ydCB7IExhbmd1YWdlRHJvcGRvd25BZGFwdGVyIH0gZnJvbSAnLi9sYW5ndWFnZS1kcm9wZG93bi1hZGFwdGVyJztcblxuZXhwb3J0IGNsYXNzIExhbmd1YWdlRHJvcGRvd24ge1xuICAgIEBJbnB1dCgpIGxhbmd1YWdlU29ydFN0cmF0ZWd5OiBMYW5ndWFnZVNvcnRTdHJhdGVneSA9IExhbmd1YWdlU29ydFN0cmF0ZWd5LkRlZmF1bHQ7XG5cbiAgICBwdWJsaWMgc2VsZWN0ZWRMYW5ndWFnZTogSVRvb2xpbmdMYW5ndWFnZSA9IChudWxsIGFzIHVua25vd24pIGFzIElUb29saW5nTGFuZ3VhZ2U7XG4gICAgcHVibGljIGl0ZW1zOiBJU2VsZWN0SXRlbTxJVG9vbGluZ0xhbmd1YWdlPltdID0gW107XG4gICAgcHVibGljIGluaXRpYWxMYW5ndWFnZTogSVNlbGVjdEl0ZW08SVRvb2xpbmdMYW5ndWFnZT4gPSAobnVsbCBhcyB1bmtub3duKSBhcyBJU2VsZWN0SXRlbTxcbiAgICAgICAgSVRvb2xpbmdMYW5ndWFnZVxuICAgID47XG5cbiAgICBwcml2YXRlIGxhbmd1YWdlczogSVRvb2xpbmdMYW5ndWFnZVtdID0gW107XG4gICAgcHJpdmF0ZSB1blJlZ2lzdGVyRXZlbnRTZXJ2aWNlOiAoKSA9PiB2b2lkID0gKG51bGwgYXMgdW5rbm93bikgYXMgKCkgPT4gdm9pZDtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBsYW5ndWFnZVNlcnZpY2U6IExhbmd1YWdlU2VydmljZSwgcHVibGljIGV2ZW50U2VydmljZTogSUV2ZW50U2VydmljZSkge31cblxuICAgIG5nT25Jbml0KCk6IHZvaWQge1xuICAgICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICB0aGlzLmxhbmd1YWdlU2VydmljZS5nZXRSZXNvbHZlTG9jYWxlKCksXG4gICAgICAgICAgICB0aGlzLmxhbmd1YWdlU2VydmljZS5nZXRUb29saW5nTGFuZ3VhZ2VzKClcbiAgICAgICAgXSkudGhlbigoW2lzb0NvZGUsIGxhbmd1YWdlc106IFtzdHJpbmcsIElUb29saW5nTGFuZ3VhZ2VbXV0pID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXMgPSBsYW5ndWFnZXMubWFwKExhbmd1YWdlRHJvcGRvd25BZGFwdGVyLnRyYW5zZm9ybSk7XG4gICAgICAgICAgICB0aGlzLmxhbmd1YWdlcyA9IGxhbmd1YWdlcztcblxuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZExhbmd1YWdlKGlzb0NvZGUpO1xuICAgICAgICAgICAgdGhpcy5zZXRJbml0aWFsTGFuZ3VhZ2UoaXNvQ29kZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudW5SZWdpc3RlckV2ZW50U2VydmljZSA9IHRoaXMuZXZlbnRTZXJ2aWNlLnN1YnNjcmliZShTV0lUQ0hfTEFOR1VBR0VfRVZFTlQsICgpID0+XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUxhbmd1YWdlQ2hhbmdlKClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy51blJlZ2lzdGVyRXZlbnRTZXJ2aWNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcmVkIHdoZW4gYW4gdXNlciBzZWxlY3RzIGEgbGFuZ3VhZ2UuXG4gICAgICogQHBhcmFtIHtJVG9vbGluZ0xhbmd1YWdlfSBsYW5ndWFnZVxuICAgICAqL1xuICAgIG9uU2VsZWN0ZWRMYW5ndWFnZShpdGVtOiBJU2VsZWN0SXRlbTxJVG9vbGluZ0xhbmd1YWdlPikge1xuICAgICAgICB0aGlzLmxhbmd1YWdlU2VydmljZS5zZXRTZWxlY3RlZFRvb2xpbmdMYW5ndWFnZShpdGVtLnZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgaW5pdGlhbCBsYW5ndWFnZSB0byBiZSBkaXNwbGF5ZWQgaW4gZHJvcGRvd25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpc29Db2RlXG4gICAgICovXG5cbiAgICBwcml2YXRlIHNldEluaXRpYWxMYW5ndWFnZShpc29Db2RlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pbml0aWFsTGFuZ3VhZ2UgPVxuICAgICAgICAgICAgKHRoaXMuaXRlbXMuZmluZChcbiAgICAgICAgICAgICAgICBMYW5ndWFnZURyb3Bkb3duSGVscGVyLmZpbmRTZWxlY3RMYW5ndWFnZVdpdGhJc29Db2RlUHJlZGljYXRlKGlzb0NvZGUpXG4gICAgICAgICAgICApIGFzIElTZWxlY3RJdGVtPElUb29saW5nTGFuZ3VhZ2U+KSB8fFxuICAgICAgICAgICAgdGhpcy5pdGVtcy5maW5kKFxuICAgICAgICAgICAgICAgIExhbmd1YWdlRHJvcGRvd25IZWxwZXIuZmluZFNlbGVjdExhbmd1YWdlV2l0aElzb0NvZGVQcmVkaWNhdGUoREVGQVVMVF9MQU5HVUFHRV9JU08pXG4gICAgICAgICAgICApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyZWQgb25Jbml0IGFuZCB3aGVuIGxhbmd1YWdlIHNlcnZpY2Ugc2V0cyBhIG5ldyBsYW5ndWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SVRvb2xpbmdMYW5ndWFnZVtdfSBsYW5ndWFnZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaXNvQ29kZVxuICAgICAqL1xuICAgIHByaXZhdGUgc2V0U2VsZWN0ZWRMYW5ndWFnZShpc29Db2RlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZExhbmd1YWdlID0gTGFuZ3VhZ2VEcm9wZG93bkhlbHBlci5maW5kTGFuZ3VhZ2VXaXRoSXNvQ29kZShcbiAgICAgICAgICAgIGlzb0NvZGUsXG4gICAgICAgICAgICB0aGlzLmxhbmd1YWdlc1xuICAgICAgICApO1xuXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkTGFuZ3VhZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvcnRlZExhbmd1YWdlcyA9IExhbmd1YWdlRHJvcGRvd25IZWxwZXIub3JkZXIoXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZExhbmd1YWdlLFxuICAgICAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2VzLFxuICAgICAgICAgICAgICAgIHsgc3RyYXRlZ3k6IHRoaXMubGFuZ3VhZ2VTb3J0U3RyYXRlZ3kgfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdGhpcy5pdGVtcyA9IHNvcnRlZExhbmd1YWdlcy5tYXAoTGFuZ3VhZ2VEcm9wZG93bkFkYXB0ZXIudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluIGNhc2UgdGhlIGlzbyBjb2RlIGlzIHRvbyBzcGVjaWZpYywgaXQgd2lsbCB1c2UgdGhlIG1vcmUgZ2VuZXJpYyBpc28gY29kZSB0byBzZXQgdGhlIGxhbmd1YWdlLlxuICAgICAgICB0aGlzLmxhbmd1YWdlU2VydmljZS5nZXRSZXNvbHZlTG9jYWxlSXNvQ29kZSgpLnRoZW4oKGNvZGU6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZExhbmd1YWdlID0gTGFuZ3VhZ2VEcm9wZG93bkhlbHBlci5maW5kTGFuZ3VhZ2VXaXRoSXNvQ29kZShcbiAgICAgICAgICAgICAgICBjb2RlLFxuICAgICAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2VzXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3Qgc29ydGVkTGFuZ3VhZ2VzID0gTGFuZ3VhZ2VEcm9wZG93bkhlbHBlci5vcmRlcihcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTGFuZ3VhZ2UsXG4gICAgICAgICAgICAgICAgdGhpcy5sYW5ndWFnZXMsXG4gICAgICAgICAgICAgICAgeyBzdHJhdGVneTogdGhpcy5sYW5ndWFnZVNvcnRTdHJhdGVneSB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5pdGVtcyA9IHNvcnRlZExhbmd1YWdlcy5tYXAoTGFuZ3VhZ2VEcm9wZG93bkFkYXB0ZXIudHJhbnNmb3JtKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGJhY2sgZm9yIHNldHRpbmcgdGhlIHNlbGVjdGVkIGxhbmd1YWdlLlxuICAgICAqL1xuICAgIHByaXZhdGUgaGFuZGxlTGFuZ3VhZ2VDaGFuZ2UoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubGFuZ3VhZ2VTZXJ2aWNlLmdldFJlc29sdmVMb2NhbGUoKS50aGVuKChpc29Db2RlOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRMYW5ndWFnZShpc29Db2RlKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIl19