/**
 * Copyright (c) 2020 SAP SE or an SAP affiliate company. All rights reserved.
 * @module smartutils
 */
import * as tslib_1 from "tslib";
/**
 * Copyright (c) 2019 SAP SE or an SAP affiliate company. All rights reserved.
 * @module smartutils
 */
import { APP_BOOTSTRAP_LISTENER, APP_INITIALIZER, Injectable } from '@angular/core';
/*
 * internal utility service to handle ES6 modules
 */
/* forbiddenNameSpaces angular.module:false */
/** @internal */
var ModuleUtils = /** @class */ (function () {
    function ModuleUtils() {
    }
    ModuleUtils.prototype.initialize = function (useFactory, deps) {
        if (deps === void 0) { deps = []; }
        return {
            provide: APP_INITIALIZER,
            useFactory: function () {
                useFactory.apply(undefined, Array.prototype.slice.call(arguments));
                return function (component) {
                    // an initializer useFactory must return a function
                };
            },
            deps: deps,
            multi: true
        };
    };
    ModuleUtils.prototype.bootstrap = function (useFactory, deps) {
        if (deps === void 0) { deps = []; }
        return {
            provide: APP_BOOTSTRAP_LISTENER,
            useFactory: function () {
                useFactory.apply(undefined, Array.prototype.slice.call(arguments));
                return function (component) {
                    // an initializer useFactory must return a function
                };
            },
            deps: deps,
            multi: true
        };
    };
    ModuleUtils.prototype.provideValues = function (_constants) {
        var constants = _constants || {};
        return Object.keys(constants).map(function (key) {
            return {
                provide: key,
                useValue: constants[key]
            };
        });
    };
    ModuleUtils = tslib_1.__decorate([
        Injectable()
    ], ModuleUtils);
    return ModuleUtils;
}());
export { ModuleUtils };
export var moduleUtils = new ModuleUtils();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLXV0aWxzLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHNtYXJ0L3V0aWxzLyIsInNvdXJjZXMiOlsidXRpbHMvbW9kdWxlLXV0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7O0dBR0c7QUFDSCxPQUFPLEVBQ0gsc0JBQXNCLEVBQ3RCLGVBQWUsRUFFZixVQUFVLEVBR2IsTUFBTSxlQUFlLENBQUM7QUFHdkI7O0dBRUc7QUFDSCw4Q0FBOEM7QUFDOUMsZ0JBQWdCO0FBRWhCO0lBQUE7SUFzQ0EsQ0FBQztJQXJDVSxnQ0FBVSxHQUFqQixVQUFrQixVQUFvQyxFQUFFLElBQWdCO1FBQWhCLHFCQUFBLEVBQUEsU0FBZ0I7UUFDcEUsT0FBTztZQUNILE9BQU8sRUFBRSxlQUFlO1lBQ3hCLFVBQVUsRUFBVjtnQkFDSSxVQUFVLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztnQkFDbkUsT0FBTyxVQUFDLFNBQTRCO29CQUNoQyxtREFBbUQ7Z0JBQ3ZELENBQUMsQ0FBQztZQUNOLENBQUM7WUFDRCxJQUFJLE1BQUE7WUFDSixLQUFLLEVBQUUsSUFBSTtTQUNkLENBQUM7SUFDTixDQUFDO0lBRU0sK0JBQVMsR0FBaEIsVUFBaUIsVUFBb0MsRUFBRSxJQUFnQjtRQUFoQixxQkFBQSxFQUFBLFNBQWdCO1FBQ25FLE9BQU87WUFDSCxPQUFPLEVBQUUsc0JBQXNCO1lBQy9CLFVBQVUsRUFBVjtnQkFDSSxVQUFVLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztnQkFDbkUsT0FBTyxVQUFDLFNBQTRCO29CQUNoQyxtREFBbUQ7Z0JBQ3ZELENBQUMsQ0FBQztZQUNOLENBQUM7WUFDRCxJQUFJLE1BQUE7WUFDSixLQUFLLEVBQUUsSUFBSTtTQUNkLENBQUM7SUFDTixDQUFDO0lBRUQsbUNBQWEsR0FBYixVQUFjLFVBQXlDO1FBQ25ELElBQU0sU0FBUyxHQUFHLFVBQVUsSUFBSSxFQUFFLENBQUM7UUFDbkMsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFDLEdBQUc7WUFDbEMsT0FBTztnQkFDSCxPQUFPLEVBQUUsR0FBRztnQkFDWixRQUFRLEVBQUUsU0FBUyxDQUFDLEdBQUcsQ0FBQzthQUMzQixDQUFDO1FBQ04sQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBckNRLFdBQVc7UUFEdkIsVUFBVSxFQUFFO09BQ0EsV0FBVyxDQXNDdkI7SUFBRCxrQkFBQztDQUFBLEFBdENELElBc0NDO1NBdENZLFdBQVc7QUF3Q3hCLE1BQU0sQ0FBQyxJQUFNLFdBQVcsR0FBRyxJQUFJLFdBQVcsRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTkgU0FQIFNFIG9yIGFuIFNBUCBhZmZpbGlhdGUgY29tcGFueS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEBtb2R1bGUgc21hcnR1dGlsc1xuICovXG5pbXBvcnQge1xuICAgIEFQUF9CT09UU1RSQVBfTElTVEVORVIsXG4gICAgQVBQX0lOSVRJQUxJWkVSLFxuICAgIENvbXBvbmVudFJlZixcbiAgICBJbmplY3RhYmxlLFxuICAgIFByb3ZpZGVyLFxuICAgIFZhbHVlUHJvdmlkZXJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDbG9uZWFibGUsIFR5cGVkTWFwIH0gZnJvbSAnLi4vZHRvcyc7XG5cbi8qXG4gKiBpbnRlcm5hbCB1dGlsaXR5IHNlcnZpY2UgdG8gaGFuZGxlIEVTNiBtb2R1bGVzXG4gKi9cbi8qIGZvcmJpZGRlbk5hbWVTcGFjZXMgYW5ndWxhci5tb2R1bGU6ZmFsc2UgKi9cbi8qKiBAaW50ZXJuYWwgKi9cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBNb2R1bGVVdGlscyB7XG4gICAgcHVibGljIGluaXRpYWxpemUodXNlRmFjdG9yeTogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkLCBkZXBzOiBhbnlbXSA9IFtdKTogUHJvdmlkZXIge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvdmlkZTogQVBQX0lOSVRJQUxJWkVSLFxuICAgICAgICAgICAgdXNlRmFjdG9yeSgpIHtcbiAgICAgICAgICAgICAgICB1c2VGYWN0b3J5LmFwcGx5KHVuZGVmaW5lZCwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChjb21wb25lbnQ6IENvbXBvbmVudFJlZjxhbnk+KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFuIGluaXRpYWxpemVyIHVzZUZhY3RvcnkgbXVzdCByZXR1cm4gYSBmdW5jdGlvblxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVwcyxcbiAgICAgICAgICAgIG11bHRpOiB0cnVlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHVibGljIGJvb3RzdHJhcCh1c2VGYWN0b3J5OiAoLi4uYXJnczogYW55W10pID0+IHZvaWQsIGRlcHM6IGFueVtdID0gW10pOiBQcm92aWRlciB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm92aWRlOiBBUFBfQk9PVFNUUkFQX0xJU1RFTkVSLFxuICAgICAgICAgICAgdXNlRmFjdG9yeSgpIHtcbiAgICAgICAgICAgICAgICB1c2VGYWN0b3J5LmFwcGx5KHVuZGVmaW5lZCwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChjb21wb25lbnQ6IENvbXBvbmVudFJlZjxhbnk+KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFuIGluaXRpYWxpemVyIHVzZUZhY3RvcnkgbXVzdCByZXR1cm4gYSBmdW5jdGlvblxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVwcyxcbiAgICAgICAgICAgIG11bHRpOiB0cnVlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJvdmlkZVZhbHVlcyhfY29uc3RhbnRzPzogVHlwZWRNYXA8Q2xvbmVhYmxlIHwgUmVnRXhwPik6IFZhbHVlUHJvdmlkZXJbXSB7XG4gICAgICAgIGNvbnN0IGNvbnN0YW50cyA9IF9jb25zdGFudHMgfHwge307XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhjb25zdGFudHMpLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHByb3ZpZGU6IGtleSxcbiAgICAgICAgICAgICAgICB1c2VWYWx1ZTogY29uc3RhbnRzW2tleV1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IG1vZHVsZVV0aWxzID0gbmV3IE1vZHVsZVV0aWxzKCk7XG4iXX0=