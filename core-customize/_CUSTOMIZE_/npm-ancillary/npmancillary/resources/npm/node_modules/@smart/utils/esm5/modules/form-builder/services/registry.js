/**
 * Copyright (c) 2020 SAP SE or an SAP affiliate company. All rights reserved.
 * @module smartutils
 */
/**
 * Copyright (c) 2019 SAP SE or an SAP affiliate company. All rights reserved.
 * @module smartutils
 */
import { toPairs } from 'lodash';
/**
 * @internal
 *
 * Generic registry for mapping keys to items.
 */
var Registry = /** @class */ (function () {
    function Registry(items) {
        if (items === void 0) { items = {}; }
        this._map = new Map(toPairs(items));
    }
    /**
     * Adds a item to the registry.
     *
     * @param {string} name
     * @param {T} item
     */
    Registry.prototype.add = function (name, item) {
        if (this._map.has(name)) {
            throw new Error(this._service + ": is overriding an element named '" + name + "' in its registry.");
        }
        this._map.set(name, item);
    };
    /**
     * Gets an a item in the registry.
     *
     * @param {string} name
     * @returns {T}
     */
    Registry.prototype.get = function (name) {
        if (!this._map.has(name)) {
            throw new Error(this._service + ": does not have '" + name + "' in its registry.");
        }
        return this._map.get(name);
    };
    Object.defineProperty(Registry.prototype, "_service", {
        /**
         * @internal
         */
        get: function () {
            return this.constructor.name;
        },
        enumerable: true,
        configurable: true
    });
    return Registry;
}());
export { Registry };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVnaXN0cnkuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Ac21hcnQvdXRpbHMvIiwic291cmNlcyI6WyJtb2R1bGVzL2Zvcm0tYnVpbGRlci9zZXJ2aWNlcy9yZWdpc3RyeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0dBR0c7QUFDSCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBQ2pDOzs7O0dBSUc7QUFDSDtJQUdJLGtCQUFZLEtBQWlDO1FBQWpDLHNCQUFBLEVBQUEsVUFBaUM7UUFDekMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSCxzQkFBRyxHQUFILFVBQUksSUFBWSxFQUFFLElBQU87UUFDckIsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNyQixNQUFNLElBQUksS0FBSyxDQUNSLElBQUksQ0FBQyxRQUFRLDBDQUFxQyxJQUFJLHVCQUFvQixDQUNoRixDQUFDO1NBQ0w7UUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0gsc0JBQUcsR0FBSCxVQUFJLElBQVk7UUFDWixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDdEIsTUFBTSxJQUFJLEtBQUssQ0FBSSxJQUFJLENBQUMsUUFBUSx5QkFBb0IsSUFBSSx1QkFBb0IsQ0FBQyxDQUFDO1NBQ2pGO1FBQ0QsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMvQixDQUFDO0lBS0Qsc0JBQVksOEJBQVE7UUFIcEI7O1dBRUc7YUFDSDtZQUNJLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUM7UUFDakMsQ0FBQzs7O09BQUE7SUFDTCxlQUFDO0FBQUQsQ0FBQyxBQXpDRCxJQXlDQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE5IFNBUCBTRSBvciBhbiBTQVAgYWZmaWxpYXRlIGNvbXBhbnkuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbW9kdWxlIHNtYXJ0dXRpbHNcbiAqL1xuaW1wb3J0IHsgdG9QYWlycyB9IGZyb20gJ2xvZGFzaCc7XG4vKipcbiAqIEBpbnRlcm5hbFxuICpcbiAqIEdlbmVyaWMgcmVnaXN0cnkgZm9yIG1hcHBpbmcga2V5cyB0byBpdGVtcy5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJlZ2lzdHJ5PFQ+IHtcbiAgICBwcml2YXRlIF9tYXA6IE1hcDxzdHJpbmcsIFQ+O1xuXG4gICAgY29uc3RydWN0b3IoaXRlbXM6IHsgW25hbWU6IHN0cmluZ106IFQgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG5ldyBNYXAodG9QYWlycyhpdGVtcykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBpdGVtIHRvIHRoZSByZWdpc3RyeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICogQHBhcmFtIHtUfSBpdGVtXG4gICAgICovXG4gICAgYWRkKG5hbWU6IHN0cmluZywgaXRlbTogVCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5fbWFwLmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIGAke3RoaXMuX3NlcnZpY2V9OiBpcyBvdmVycmlkaW5nIGFuIGVsZW1lbnQgbmFtZWQgJyR7bmFtZX0nIGluIGl0cyByZWdpc3RyeS5gXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21hcC5zZXQobmFtZSwgaXRlbSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbiBhIGl0ZW0gaW4gdGhlIHJlZ2lzdHJ5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICAgKiBAcmV0dXJucyB7VH1cbiAgICAgKi9cbiAgICBnZXQobmFtZTogc3RyaW5nKTogVCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICghdGhpcy5fbWFwLmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3RoaXMuX3NlcnZpY2V9OiBkb2VzIG5vdCBoYXZlICcke25hbWV9JyBpbiBpdHMgcmVnaXN0cnkuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5nZXQobmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXQgX3NlcnZpY2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgfVxufVxuIl19