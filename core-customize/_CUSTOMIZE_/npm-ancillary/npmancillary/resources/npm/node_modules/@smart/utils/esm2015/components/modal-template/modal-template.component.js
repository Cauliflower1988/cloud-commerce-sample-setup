import * as tslib_1 from "tslib";
/**
 * Copyright (c) 2020 SAP SE or an SAP affiliate company. All rights reserved.
 * @module smartutils
 */
/**
 * Copyright (c) 2019 SAP SE or an SAP affiliate company. All rights reserved.
 * @module smartutils
 */
/*
 * Copyright (c) 2019 SAP SE or an SAP affiliate company. All rights reserved.
 */
import { Component, ViewEncapsulation } from '@angular/core';
import { map } from 'rxjs/operators';
import { FundamentalModalManagerService } from '../../services/modal/modal-manager.service';
let FundamentalModalTemplateComponent = class FundamentalModalTemplateComponent {
    constructor(modalManager) {
        this.modalManager = modalManager;
        this.component = this.modalManager.getComponent();
        this.title = this.modalManager.getTitle();
        this.titleSuffix = this.modalManager.getTitleSuffix();
        this.buttons = this.modalManager.getButtons();
        this.isDismissButtonVisible = this.modalManager.getIsDismissButtonVisible();
    }
    ngOnInit() {
        this.modalManager.init();
    }
    onButtonClicked(button) {
        this.modalManager.onButtonClicked(button);
    }
    dismiss() {
        this.modalManager.dismiss();
    }
    hasButtons() {
        return this.buttons.pipe(map((buttons) => buttons && !!buttons.length));
    }
};
FundamentalModalTemplateComponent.ctorParameters = () => [
    { type: FundamentalModalManagerService }
];
FundamentalModalTemplateComponent = tslib_1.__decorate([
    Component({
        selector: 'fundamental-modal-template',
        encapsulation: ViewEncapsulation.None,
        providers: [FundamentalModalManagerService],
        template: `
        <fd-modal-header>
            <h1 fd-modal-title id="fd-modal-title-{{ (title | async) || '' }}">
                {{ (title | async) || '' | translate }}
                {{ (titleSuffix | async) || '' | translate }}
            </h1>
            <button
                fd-modal-close-btn
                *ngIf="isDismissButtonVisible | async"
                (click)="dismiss()"
            ></button>
        </fd-modal-header>
        <fd-modal-body>
            <ng-container *ngComponentOutlet="component | async"></ng-container>
        </fd-modal-body>
        <fd-modal-footer *ngIf="hasButtons() | async">
            <button
                *ngFor="let button of buttons | async"
                [disabled]="button.disabledFn ? button.disabledFn() : button.disabled"
                [options]="button.style"
                [attr.id]="button.id"
                (click)="onButtonClicked(button)"
                fd-button
            >
                {{ button.label | translate }}
            </button>
        </fd-modal-footer>
    `,
        styles: [`
            .fd-modal__title {
                min-height: 20px;
            }
        `]
    }),
    tslib_1.__metadata("design:paramtypes", [FundamentalModalManagerService])
], FundamentalModalTemplateComponent);
export { FundamentalModalTemplateComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kYWwtdGVtcGxhdGUuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHNtYXJ0L3V0aWxzLyIsInNvdXJjZXMiOlsiY29tcG9uZW50cy9tb2RhbC10ZW1wbGF0ZS9tb2RhbC10ZW1wbGF0ZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7R0FHRztBQUNIOzs7R0FHRztBQUNIOztHQUVHO0FBQ0gsT0FBTyxFQUFFLFNBQVMsRUFBZ0IsaUJBQWlCLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0UsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3JDLE9BQU8sRUFBRSw4QkFBOEIsRUFBRSxNQUFNLDRDQUE0QyxDQUFDO0FBNEM1RixJQUFhLGlDQUFpQyxHQUE5QyxNQUFhLGlDQUFpQztJQVMxQyxZQUFvQixZQUE0QztRQUE1QyxpQkFBWSxHQUFaLFlBQVksQ0FBZ0M7UUFSekQsY0FBUyxHQUEwQixJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ3BFLFVBQUssR0FBdUIsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUN6RCxnQkFBVyxHQUF1QixJQUFJLENBQUMsWUFBWSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3JFLFlBQU8sR0FBaUQsSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUN2RiwyQkFBc0IsR0FFekIsSUFBSSxDQUFDLFlBQVksQ0FBQyx5QkFBeUIsRUFBRSxDQUFDO0lBRWlCLENBQUM7SUFFcEUsUUFBUTtRQUNKLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVNLGVBQWUsQ0FBQyxNQUFzQztRQUN6RCxJQUFJLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM5QyxDQUFDO0lBRU0sT0FBTztRQUNWLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDaEMsQ0FBQztJQUVNLFVBQVU7UUFDYixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUNwQixHQUFHLENBQUMsQ0FBQyxPQUF5QyxFQUFFLEVBQUUsQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FDbEYsQ0FBQztJQUNOLENBQUM7Q0FDSixDQUFBOztZQW5CcUMsOEJBQThCOztBQVR2RCxpQ0FBaUM7SUF4QzdDLFNBQVMsQ0FBQztRQUNQLFFBQVEsRUFBRSw0QkFBNEI7UUFDdEMsYUFBYSxFQUFFLGlCQUFpQixDQUFDLElBQUk7UUFDckMsU0FBUyxFQUFFLENBQUMsOEJBQThCLENBQUM7UUFRM0MsUUFBUSxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7S0EyQlQ7aUJBakNHOzs7O1NBSUM7S0E4QlIsQ0FBQzs2Q0FVb0MsOEJBQThCO0dBVHZELGlDQUFpQyxDQTRCN0M7U0E1QlksaUNBQWlDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjAgU0FQIFNFIG9yIGFuIFNBUCBhZmZpbGlhdGUgY29tcGFueS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEBtb2R1bGUgc21hcnR1dGlsc1xuICovXG4vKipcbiAqIENvcHlyaWdodCAoYykgMjAxOSBTQVAgU0Ugb3IgYW4gU0FQIGFmZmlsaWF0ZSBjb21wYW55LiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogQG1vZHVsZSBzbWFydHV0aWxzXG4gKi9cbi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTkgU0FQIFNFIG9yIGFuIFNBUCBhZmZpbGlhdGUgY29tcGFueS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqL1xuaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIFR5cGUsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBGdW5kYW1lbnRhbE1vZGFsTWFuYWdlclNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9tb2RhbC9tb2RhbC1tYW5hZ2VyLnNlcnZpY2UnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgSUZ1bmRhbWVudGFsTW9kYWxCdXR0b25PcHRpb25zIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcyc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnZnVuZGFtZW50YWwtbW9kYWwtdGVtcGxhdGUnLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgcHJvdmlkZXJzOiBbRnVuZGFtZW50YWxNb2RhbE1hbmFnZXJTZXJ2aWNlXSxcbiAgICBzdHlsZXM6IFtcbiAgICAgICAgYFxuICAgICAgICAgICAgLmZkLW1vZGFsX190aXRsZSB7XG4gICAgICAgICAgICAgICAgbWluLWhlaWdodDogMjBweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICAgIF0sXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgICAgPGZkLW1vZGFsLWhlYWRlcj5cbiAgICAgICAgICAgIDxoMSBmZC1tb2RhbC10aXRsZSBpZD1cImZkLW1vZGFsLXRpdGxlLXt7ICh0aXRsZSB8IGFzeW5jKSB8fCAnJyB9fVwiPlxuICAgICAgICAgICAgICAgIHt7ICh0aXRsZSB8IGFzeW5jKSB8fCAnJyB8IHRyYW5zbGF0ZSB9fVxuICAgICAgICAgICAgICAgIHt7ICh0aXRsZVN1ZmZpeCB8IGFzeW5jKSB8fCAnJyB8IHRyYW5zbGF0ZSB9fVxuICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBmZC1tb2RhbC1jbG9zZS1idG5cbiAgICAgICAgICAgICAgICAqbmdJZj1cImlzRGlzbWlzc0J1dHRvblZpc2libGUgfCBhc3luY1wiXG4gICAgICAgICAgICAgICAgKGNsaWNrKT1cImRpc21pc3MoKVwiXG4gICAgICAgICAgICA+PC9idXR0b24+XG4gICAgICAgIDwvZmQtbW9kYWwtaGVhZGVyPlxuICAgICAgICA8ZmQtbW9kYWwtYm9keT5cbiAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nQ29tcG9uZW50T3V0bGV0PVwiY29tcG9uZW50IHwgYXN5bmNcIj48L25nLWNvbnRhaW5lcj5cbiAgICAgICAgPC9mZC1tb2RhbC1ib2R5PlxuICAgICAgICA8ZmQtbW9kYWwtZm9vdGVyICpuZ0lmPVwiaGFzQnV0dG9ucygpIHwgYXN5bmNcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgYnV0dG9uIG9mIGJ1dHRvbnMgfCBhc3luY1wiXG4gICAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cImJ1dHRvbi5kaXNhYmxlZEZuID8gYnV0dG9uLmRpc2FibGVkRm4oKSA6IGJ1dHRvbi5kaXNhYmxlZFwiXG4gICAgICAgICAgICAgICAgW29wdGlvbnNdPVwiYnV0dG9uLnN0eWxlXCJcbiAgICAgICAgICAgICAgICBbYXR0ci5pZF09XCJidXR0b24uaWRcIlxuICAgICAgICAgICAgICAgIChjbGljayk9XCJvbkJ1dHRvbkNsaWNrZWQoYnV0dG9uKVwiXG4gICAgICAgICAgICAgICAgZmQtYnV0dG9uXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3sgYnV0dG9uLmxhYmVsIHwgdHJhbnNsYXRlIH19XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9mZC1tb2RhbC1mb290ZXI+XG4gICAgYFxufSlcbmV4cG9ydCBjbGFzcyBGdW5kYW1lbnRhbE1vZGFsVGVtcGxhdGVDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICAgIHB1YmxpYyBjb21wb25lbnQ6IE9ic2VydmFibGU8VHlwZTxhbnk+PiA9IHRoaXMubW9kYWxNYW5hZ2VyLmdldENvbXBvbmVudCgpO1xuICAgIHB1YmxpYyB0aXRsZTogT2JzZXJ2YWJsZTxzdHJpbmc+ID0gdGhpcy5tb2RhbE1hbmFnZXIuZ2V0VGl0bGUoKTtcbiAgICBwdWJsaWMgdGl0bGVTdWZmaXg6IE9ic2VydmFibGU8c3RyaW5nPiA9IHRoaXMubW9kYWxNYW5hZ2VyLmdldFRpdGxlU3VmZml4KCk7XG4gICAgcHVibGljIGJ1dHRvbnM6IE9ic2VydmFibGU8SUZ1bmRhbWVudGFsTW9kYWxCdXR0b25PcHRpb25zW10+ID0gdGhpcy5tb2RhbE1hbmFnZXIuZ2V0QnV0dG9ucygpO1xuICAgIHB1YmxpYyBpc0Rpc21pc3NCdXR0b25WaXNpYmxlOiBPYnNlcnZhYmxlPFxuICAgICAgICBib29sZWFuXG4gICAgPiA9IHRoaXMubW9kYWxNYW5hZ2VyLmdldElzRGlzbWlzc0J1dHRvblZpc2libGUoKTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgbW9kYWxNYW5hZ2VyOiBGdW5kYW1lbnRhbE1vZGFsTWFuYWdlclNlcnZpY2UpIHt9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5tb2RhbE1hbmFnZXIuaW5pdCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvbkJ1dHRvbkNsaWNrZWQoYnV0dG9uOiBJRnVuZGFtZW50YWxNb2RhbEJ1dHRvbk9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5tb2RhbE1hbmFnZXIub25CdXR0b25DbGlja2VkKGJ1dHRvbik7XG4gICAgfVxuXG4gICAgcHVibGljIGRpc21pc3MoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubW9kYWxNYW5hZ2VyLmRpc21pc3MoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGFzQnV0dG9ucygpOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnV0dG9ucy5waXBlKFxuICAgICAgICAgICAgbWFwKChidXR0b25zOiBJRnVuZGFtZW50YWxNb2RhbEJ1dHRvbk9wdGlvbnNbXSkgPT4gYnV0dG9ucyAmJiAhIWJ1dHRvbnMubGVuZ3RoKVxuICAgICAgICApO1xuICAgIH1cbn1cbiJdfQ==