/**
 * Copyright (c) 2020 SAP SE or an SAP affiliate company. All rights reserved.
 * @module smartutils
 */
/**
 * Copyright (c) 2019 SAP SE or an SAP affiliate company. All rights reserved.
 * @module smartutils
 */
import * as lodash from 'lodash';
import { booleanUtils } from '../../../../../utils';
var SERVER_ERROR_PREDICATE_HTTP_STATUSES = [500, 502, 503, 504];
var CLIENT_ERROR_PREDICATE_HTTP_STATUSES = [429];
var TIMEOUT_ERROR_PREDICATE_HTTP_STATUSES = [408];
export function serverErrorPredicate(request, response) {
    return response && lodash.includes(SERVER_ERROR_PREDICATE_HTTP_STATUSES, response.status);
}
export function clientErrorPredicate(request, response) {
    return response && lodash.includes(CLIENT_ERROR_PREDICATE_HTTP_STATUSES, response.status);
}
export function timeoutErrorPredicate(request, response) {
    return response && lodash.includes(TIMEOUT_ERROR_PREDICATE_HTTP_STATUSES, response.status);
}
export function retriableErrorPredicate(request, response) {
    return (response &&
        booleanUtils.isAnyTruthy(serverErrorPredicate, clientErrorPredicate, timeoutErrorPredicate)(request, response));
}
export function noInternetConnectionErrorPredicate(request, response) {
    return response && response.status === 0;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHR0cC1lcnJvci5wcmVkaWNhdGVzLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHNtYXJ0L3V0aWxzLyIsInNvdXJjZXMiOlsic2VydmljZXMvaW50ZXJjZXB0b3JzL2Vycm9ycy9yZXRyaWVzL3ByZWRpY2F0ZXMvaHR0cC1lcnJvci5wcmVkaWNhdGVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7R0FHRztBQUNILE9BQU8sS0FBSyxNQUFNLE1BQU0sUUFBUSxDQUFDO0FBRWpDLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNwRCxJQUFNLG9DQUFvQyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDbEUsSUFBTSxvQ0FBb0MsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ25ELElBQU0scUNBQXFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUVwRCxNQUFNLFVBQVUsb0JBQW9CLENBQUMsT0FBeUIsRUFBRSxRQUEyQjtJQUN2RixPQUFPLFFBQVEsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLG9DQUFvQyxFQUFFLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUM5RixDQUFDO0FBQ0QsTUFBTSxVQUFVLG9CQUFvQixDQUFDLE9BQXlCLEVBQUUsUUFBMkI7SUFDdkYsT0FBTyxRQUFRLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxvQ0FBb0MsRUFBRSxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDOUYsQ0FBQztBQUNELE1BQU0sVUFBVSxxQkFBcUIsQ0FBQyxPQUF5QixFQUFFLFFBQTJCO0lBQ3hGLE9BQU8sUUFBUSxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMscUNBQXFDLEVBQUUsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQy9GLENBQUM7QUFDRCxNQUFNLFVBQVUsdUJBQXVCLENBQUMsT0FBeUIsRUFBRSxRQUEyQjtJQUMxRixPQUFPLENBQ0gsUUFBUTtRQUNSLFlBQVksQ0FBQyxXQUFXLENBQUMsb0JBQW9CLEVBQUUsb0JBQW9CLEVBQUUscUJBQXFCLENBQUMsQ0FDdkYsT0FBTyxFQUNQLFFBQVEsQ0FDWCxDQUNKLENBQUM7QUFDTixDQUFDO0FBQ0QsTUFBTSxVQUFVLGtDQUFrQyxDQUM5QyxPQUF5QixFQUN6QixRQUEyQjtJQUUzQixPQUFPLFFBQVEsSUFBSSxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQztBQUM3QyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTkgU0FQIFNFIG9yIGFuIFNBUCBhZmZpbGlhdGUgY29tcGFueS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEBtb2R1bGUgc21hcnR1dGlsc1xuICovXG5pbXBvcnQgKiBhcyBsb2Rhc2ggZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IEh0dHBFcnJvclJlc3BvbnNlLCBIdHRwUmVxdWVzdCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IGJvb2xlYW5VdGlscyB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3V0aWxzJztcbmNvbnN0IFNFUlZFUl9FUlJPUl9QUkVESUNBVEVfSFRUUF9TVEFUVVNFUyA9IFs1MDAsIDUwMiwgNTAzLCA1MDRdO1xuY29uc3QgQ0xJRU5UX0VSUk9SX1BSRURJQ0FURV9IVFRQX1NUQVRVU0VTID0gWzQyOV07XG5jb25zdCBUSU1FT1VUX0VSUk9SX1BSRURJQ0FURV9IVFRQX1NUQVRVU0VTID0gWzQwOF07XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJ2ZXJFcnJvclByZWRpY2F0ZShyZXF1ZXN0OiBIdHRwUmVxdWVzdDxhbnk+LCByZXNwb25zZTogSHR0cEVycm9yUmVzcG9uc2UpIHtcbiAgICByZXR1cm4gcmVzcG9uc2UgJiYgbG9kYXNoLmluY2x1ZGVzKFNFUlZFUl9FUlJPUl9QUkVESUNBVEVfSFRUUF9TVEFUVVNFUywgcmVzcG9uc2Uuc3RhdHVzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbGllbnRFcnJvclByZWRpY2F0ZShyZXF1ZXN0OiBIdHRwUmVxdWVzdDxhbnk+LCByZXNwb25zZTogSHR0cEVycm9yUmVzcG9uc2UpIHtcbiAgICByZXR1cm4gcmVzcG9uc2UgJiYgbG9kYXNoLmluY2x1ZGVzKENMSUVOVF9FUlJPUl9QUkVESUNBVEVfSFRUUF9TVEFUVVNFUywgcmVzcG9uc2Uuc3RhdHVzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0aW1lb3V0RXJyb3JQcmVkaWNhdGUocmVxdWVzdDogSHR0cFJlcXVlc3Q8YW55PiwgcmVzcG9uc2U6IEh0dHBFcnJvclJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlICYmIGxvZGFzaC5pbmNsdWRlcyhUSU1FT1VUX0VSUk9SX1BSRURJQ0FURV9IVFRQX1NUQVRVU0VTLCByZXNwb25zZS5zdGF0dXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJldHJpYWJsZUVycm9yUHJlZGljYXRlKHJlcXVlc3Q6IEh0dHBSZXF1ZXN0PGFueT4sIHJlc3BvbnNlOiBIdHRwRXJyb3JSZXNwb25zZSkge1xuICAgIHJldHVybiAoXG4gICAgICAgIHJlc3BvbnNlICYmXG4gICAgICAgIGJvb2xlYW5VdGlscy5pc0FueVRydXRoeShzZXJ2ZXJFcnJvclByZWRpY2F0ZSwgY2xpZW50RXJyb3JQcmVkaWNhdGUsIHRpbWVvdXRFcnJvclByZWRpY2F0ZSkoXG4gICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgcmVzcG9uc2VcbiAgICAgICAgKVxuICAgICk7XG59XG5leHBvcnQgZnVuY3Rpb24gbm9JbnRlcm5ldENvbm5lY3Rpb25FcnJvclByZWRpY2F0ZShcbiAgICByZXF1ZXN0OiBIdHRwUmVxdWVzdDxhbnk+LFxuICAgIHJlc3BvbnNlOiBIdHRwRXJyb3JSZXNwb25zZVxuKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlICYmIHJlc3BvbnNlLnN0YXR1cyA9PT0gMDtcbn1cbiJdfQ==